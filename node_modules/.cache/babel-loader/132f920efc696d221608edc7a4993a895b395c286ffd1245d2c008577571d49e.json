{"ast":null,"code":"export default {\n  data() {\n    return {\n      activeName: 'first',\n      dialogvisible: false,\n      deletedialogvisible: false,\n      masukdialogvisible: false,\n      keluardialogvisible: false,\n      form: {\n        id: null,\n        nama_barang: null,\n        stok: 0\n      },\n      formLabelWidth: '100px'\n    };\n  },\n  computed: {\n    get_kelolas() {\n      return this.$store.state.kelola.kelola;\n    },\n    // get_kata() {\n    //   return this.$store.state.kelola.kata\n    // },\n    get_barangs() {\n      return this.$store.state.barang.barang;\n    },\n    get_loading() {\n      return this.$store.state.kelola.loading;\n    },\n    get_loading_1() {\n      return this.$store.state.barang.loading;\n    }\n  },\n  created() {\n    this.$store.dispatch('kelola/get_kelolas');\n    this.$store.dispatch('barang/get_barangs');\n  },\n  methods: {\n    open_dialogvisible: function () {\n      this.dialogvisible = true;\n      this.form.nama_barang = null;\n      this.form.stok = 0;\n    },\n    close_dialogvisible: function () {\n      this.dialogvisible = false;\n    },\n    submit_dialogvisible: function () {\n      console.log(this.form);\n      this.$store.dispatch('kelola/tambah_kelola', {\n        nama_barang: this.form.nama_barang,\n        stok: this.form.stok\n      }).then(response => {\n        this.$store.dispatch('masuk/tambah_masuk', {\n          kelola_id: response.data.id,\n          stok: this.form.stok\n        }).then(() => {\n          this.dialogvisible = false;\n          this.$store.dispatch('kelola/get_kelolas');\n        });\n      });\n    },\n    cancel_dialogvisible: function () {\n      this.dialogvisible = false;\n    },\n    open_deletedialogvisible: function (id, nama_barang) {\n      this.deletedialogvisible = true;\n      this.form.id = id;\n      this.form.nama_barang = nama_barang;\n    },\n    close_deletedialogvisible: function () {\n      this.deletedialogvisible = false;\n    },\n    submit_deletedialogvisible: function (id) {\n      this.$store.dispatch('kelola/delete_kelola', {\n        id: id\n      }).then(() => {\n        this.deletedialogvisible = false;\n        this.$store.dispatch('kelola/get_kelolas');\n      });\n    },\n    cancel_deletedialogvisible: function () {\n      this.deletedialogvisible = false;\n    },\n    open_masukdialogvisible: function (id, nama_barang) {\n      this.masukdialogvisible = true;\n      this.form.id = id;\n      this.form.nama_barang = nama_barang;\n      this.form.stok = 0;\n    },\n    close_masukdialogvisible: function () {\n      this.masukdialogvisible = false;\n    },\n    submit_masukdialogvisible: function (id) {\n      this.$store.dispatch('masuk/tambah_masuk', {\n        kelola_id: id,\n        stok: this.form.stok\n      }).then(() => {\n        this.masukdialogvisible = false;\n        this.$store.dispatch('kelola/get_kelolas');\n      });\n    },\n    cancel_masukdialogvisible: function () {\n      this.masukdialogvisible = false;\n    },\n    open_keluardialogvisible: function (id, nama_barang) {\n      this.keluardialogvisible = true;\n      this.form.id = id;\n      this.form.nama_barang = nama_barang;\n      this.form.stok = 0;\n    },\n    close_keluardialogvisible: function () {\n      this.keluardialogvisible = false;\n    },\n    submit_keluardialogvisible: function (id) {\n      this.$store.dispatch('keluar/tambah_keluar', {\n        kelola_id: id,\n        stok: this.form.stok\n      }).then(() => {\n        this.keluardialogvisible = false;\n        this.$store.dispatch('kelola/get_kelolas');\n      });\n    },\n    cancel_keluardialogvisible: function () {\n      this.keluardialogvisible = false;\n    }\n  }\n};","map":{"version":3,"mappings":"AAgJA;EACAA;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;MACA;MACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;IACA;IACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACAC;MACA;QAAAb;QAAAC;MAAA,GACAa;QACA;UAAAC;UAAAd;QAAA,GACAa;UACA;UACA;QACA;MACA;IACA;IACAE;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;QAAApB;MAAA,GACAe;QACA;QACA;MACA;IACA;IACAM;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;QAAAR;QAAAd;MAAA,GACAa;QACA;QACA;MACA;IACA;IACAU;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;QAAAZ;QAAAd;MAAA,GACAa;QACA;QACA;MACA;IACA;IACAc;MACA;IACA;EACA;AACA","names":["data","activeName","dialogvisible","deletedialogvisible","masukdialogvisible","keluardialogvisible","form","id","nama_barang","stok","formLabelWidth","computed","get_kelolas","get_barangs","get_loading","get_loading_1","created","methods","open_dialogvisible","close_dialogvisible","submit_dialogvisible","console","then","kelola_id","cancel_dialogvisible","open_deletedialogvisible","close_deletedialogvisible","submit_deletedialogvisible","cancel_deletedialogvisible","open_masukdialogvisible","close_masukdialogvisible","submit_masukdialogvisible","cancel_masukdialogvisible","open_keluardialogvisible","close_keluardialogvisible","submit_keluardialogvisible","cancel_keluardialogvisible"],"sourceRoot":"src/views/adm","sources":["TransaksiView.vue"],"sourcesContent":["<template>\n  <div>\n    <el-breadcrumb separator=\"/\" class=\"font-4 mb-3\">\n      <el-breadcrumb-item :to=\"{ path: '/dashboard' }\">Dashboard</el-breadcrumb-item>\n      <el-breadcrumb-item>Transaksi</el-breadcrumb-item>\n    </el-breadcrumb>\n    <el-tabs v-model=\"activeName\" type=\"border-card\">\n      <el-tab-pane class=\"font-4\" name=\"first\" label=\"Kelola Barang\">\n        <div>\n          <div v-if=\"get_loading\">\n            <i class=\"el-icon-loading\"></i>\n          </div>\n          <div v-if=\"!get_loading\">\n            <div class=\"flex justify-end mb-2\">\n              <div>\n                <el-button type=\"primary\" size=\"mini\" @click=\"open_dialogvisible\"><i class=\"el-icon-plus\"></i> Tambah Kelola Barang</el-button>\n              </div>\n            </div>\n            <div>\n              <div class=\"flex justify-between items-center py-1 border-b\">\n                <div class=\"w-64\">\n                  <p class=\"font-4 text-sm\">Kode barang</p>\n                </div>\n                <div class=\"w-1/2\">\n                  <p class=\"font-64 text-sm\">Nama barang</p>\n                </div>\n                <div class=\"flex-grow\">\n                  <p class=\"font-4 text-sm\">Stok</p>\n                </div>\n                <div class=\"ml-0.5\">\n                  &nbsp;\n                </div>\n                <div class=\"ml-0.5\">\n                  &nbsp;\n                </div>\n              </div>\n            </div>\n            <div v-for=\"(item, index) in get_kelolas\" :key=\"index\">\n              <div class=\"flex justify-between items-center py-2 hover:bg-gray-50 cursor-pointer border-b\">\n                <div class=\"w-64\">\n                  <p class=\"font-4\" v-if=\"item.barangId == null\">Tidak nama barang</p>\n                  <p class=\"font-4 uppercase\" v-if=\"item.barangId != null\">{{ item.barang.kode_barang }}</p>\n                </div>\n                <div class=\"w-1/2\">\n                  <p class=\"font-64\" v-if=\"item.barangId == null\">Tidak nama barang</p>\n                  <p class=\"font-64\" v-if=\"item.barangId != null\">{{ item.barang.nama_barang }}</p>\n                </div>\n                <div class=\"flex-grow\">\n                  <p class=\"font-4\" v-if=\"item.stok == null\">0</p>\n                  <p class=\"font-4\" v-if=\"item.stok != null\">{{ item.stok }}</p>\n                </div>\n                <div class=\"ml-0.5\">\n                  <el-button size=\"mini\" circle  @click=\"open_masukdialogvisible(item.id, item.barang.nama_barang)\"><i class=\"el-icon-plus\"></i></el-button>\n                </div>\n                <div class=\"ml-0.5\">\n                  <el-button size=\"mini\" circle @click=\"open_keluardialogvisible(item.id, item.barang.nama_barang)\"><i class=\"el-icon-minus\"></i></el-button>\n                </div>\n                <!-- <div class=\"ml-0.5\">\n                  <el-button size=\"mini\" circle ><i class=\"el-icon-edit\"></i></el-button>\n                </div> -->\n                <div class=\"ml-0.5\">\n                  <el-button size=\"mini\" circle @click=\"open_deletedialogvisible(item.id, item.barang.nama_barang)\"><i class=\"el-icon-delete\"></i></el-button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </el-tab-pane>\n    </el-tabs>\n    <el-dialog title=\"Tambah Kelola Barang\" :visible.sync=\"dialogvisible\" width=\"50%\" :before-close=\"close_dialogvisible\">\n      <div>\n        <el-form>\n          <el-form-item label=\"Nama Barang\" :label-width=\"formLabelWidth\">\n            <el-select v-model=\"form.nama_barang\" filterable placeholder=\"Select\" style=\"width:100%\">\n              <el-option v-for=\"item in get_barangs\" :key=\"item.kode_barang\" :label=\"item.nama_barang\" :value=\"item.id\"></el-option>\n            </el-select>\n            <!-- <el-input v-model=\"form.nama_barang\" autocomplete=\"off\"></el-input> -->\n          </el-form-item>\n          <el-form-item label=\"Stok\" :label-width=\"formLabelWidth\">\n            <el-input-number v-model=\"form.stok\" controls-position=\"right\" :min=\"0\" :max=\"100\"></el-input-number>\n            <!-- <el-input-number v-model=\"form.stok\" :min=\"0\" :max=\"100\"></el-input-number> -->\n            <!-- <el-input v-model=\"form.stok\" autocomplete=\"off\"></el-input> -->\n          </el-form-item>\n        </el-form>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"cancel_dialogvisible\" size=\"mini\">Cancel</el-button>\n        <el-button type=\"primary\" :loading=\"get_loading\" @click=\"submit_dialogvisible\" size=\"mini\">Submit</el-button>\n      </span>\n    </el-dialog>\n    <el-dialog title=\"Barang Masuk\" :visible.sync=\"masukdialogvisible\" width=\"50%\" :before-close=\"close_masukdialogvisible\">\n      <div>\n        <el-form>\n          <el-form-item label=\"Nama Barang\" :label-width=\"formLabelWidth\">\n            <!-- <el-select v-model=\"form.nama_barang\" filterable placeholder=\"Select\" style=\"width:100%\">\n              <el-option v-for=\"item in get_barangs\" :key=\"item.kode_barang\" :label=\"item.nama_barang\" :value=\"item.id\"></el-option>\n            </el-select> -->\n            <el-input v-model=\"form.nama_barang\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"Stok\" :label-width=\"formLabelWidth\">\n            <el-input-number v-model=\"form.stok\" controls-position=\"right\" :min=\"0\" :max=\"100\"></el-input-number>\n            <!-- <el-input-number v-model=\"form.stok\" :min=\"0\" :max=\"100\"></el-input-number> -->\n            <!-- <el-input v-model=\"form.stok\" autocomplete=\"off\"></el-input> -->\n          </el-form-item>\n        </el-form>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"cancel_masukdialogvisible\" size=\"mini\">Cancel</el-button>\n        <el-button type=\"primary\" :loading=\"get_loading\" @click=\"submit_masukdialogvisible(form.id)\" size=\"mini\">Submit</el-button>\n      </span>\n    </el-dialog>\n    <el-dialog title=\"Barang Keluar\" :visible.sync=\"keluardialogvisible\" width=\"50%\" :before-close=\"close_keluardialogvisible\">\n      <div>\n        <el-form>\n          <el-form-item label=\"Nama Barang\" :label-width=\"formLabelWidth\">\n            <!-- <el-select v-model=\"form.nama_barang\" filterable placeholder=\"Select\" style=\"width:100%\">\n              <el-option v-for=\"item in get_barangs\" :key=\"item.kode_barang\" :label=\"item.nama_barang\" :value=\"item.id\"></el-option>\n            </el-select> -->\n            <el-input v-model=\"form.nama_barang\" :disabled=\"true\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"Stok\" :label-width=\"formLabelWidth\">\n            <el-input-number v-model=\"form.stok\" controls-position=\"right\" :min=\"0\" :max=\"100\"></el-input-number>\n            <!-- <el-input-number v-model=\"form.stok\" :min=\"0\" :max=\"100\"></el-input-number> -->\n            <!-- <el-input v-model=\"form.stok\" autocomplete=\"off\"></el-input> -->\n          </el-form-item>\n        </el-form>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"cancel_keluardialogvisible\" size=\"mini\">Cancel</el-button>\n        <el-button type=\"primary\" :loading=\"get_loading\" @click=\"submit_keluardialogvisible(form.id)\" size=\"mini\">Submit</el-button>\n      </span>\n    </el-dialog>\n    <el-dialog title=\"Warning\" :visible.sync=\"deletedialogvisible\" width=\"30%\" :before-close=\"close_deletedialogvisible\" center>\n      <div>\n        <p class=\"text-center\">Yakin <span class=\"font-semibold\">{{ form.nama_barang }}</span> dihapus?</p>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"mini\" @click=\"cancel_deletedialogvisible\">Cancel</el-button>\n        <el-button type=\"danger\" size=\"mini\" :loading=\"get_loading\" @click=\"submit_deletedialogvisible(form.id)\">Delete</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      activeName: 'first',\n      dialogvisible: false,\n      deletedialogvisible: false,\n      masukdialogvisible: false,\n      keluardialogvisible: false,\n      form: {\n        id: null,\n        nama_barang: null,\n        stok: 0\n      },\n      formLabelWidth: '100px',\n    }\n  },\n  computed: {\n    get_kelolas() {\n      return this.$store.state.kelola.kelola\n    },\n    // get_kata() {\n    //   return this.$store.state.kelola.kata\n    // },\n    get_barangs() {\n      return this.$store.state.barang.barang\n    },\n    get_loading() {\n      return this.$store.state.kelola.loading\n    },\n    get_loading_1() {\n      return this.$store.state.barang.loading\n    }\n  },\n  created() {\n    this.$store.dispatch('kelola/get_kelolas')\n    this.$store.dispatch('barang/get_barangs')\n  },\n  methods: {\n    open_dialogvisible: function() {\n      this.dialogvisible = true;\n      this.form.nama_barang = null;\n      this.form.stok = 0;\n    },\n    close_dialogvisible: function() {\n      this.dialogvisible = false;\n    },\n    submit_dialogvisible: function() {\n      console.log(this.form);\n      this.$store.dispatch('kelola/tambah_kelola', {nama_barang: this.form.nama_barang, stok: this.form.stok})\n      .then(response => {\n        this.$store.dispatch('masuk/tambah_masuk', {kelola_id: response.data.id, stok: this.form.stok})\n        .then(() => {\n          this.dialogvisible = false;\n          this.$store.dispatch('kelola/get_kelolas')\n        })\n      })\n    },\n    cancel_dialogvisible: function() {\n      this.dialogvisible = false;\n    },\n    open_deletedialogvisible: function(id, nama_barang) {\n      this.deletedialogvisible = true;\n      this.form.id = id;\n      this.form.nama_barang = nama_barang;\n    },\n    close_deletedialogvisible: function() {\n      this.deletedialogvisible = false;\n    },\n    submit_deletedialogvisible: function(id) {\n      this.$store.dispatch('kelola/delete_kelola', {id: id})\n      .then(() => {\n        this.deletedialogvisible = false;\n        this.$store.dispatch('kelola/get_kelolas')\n      })\n    },\n    cancel_deletedialogvisible: function() {\n      this.deletedialogvisible = false;\n    },\n    open_masukdialogvisible: function(id, nama_barang) {\n      this.masukdialogvisible = true;\n      this.form.id = id;\n      this.form.nama_barang = nama_barang;\n      this.form.stok = 0;\n    },\n    close_masukdialogvisible: function() {\n      this.masukdialogvisible = false;\n    },\n    submit_masukdialogvisible: function(id) {\n      this.$store.dispatch('masuk/tambah_masuk', {kelola_id: id, stok: this.form.stok})\n      .then(() => {\n        this.masukdialogvisible = false;\n        this.$store.dispatch('kelola/get_kelolas')\n      })\n    },\n    cancel_masukdialogvisible: function() {\n      this.masukdialogvisible = false;\n    },\n    open_keluardialogvisible: function(id, nama_barang) {\n      this.keluardialogvisible = true;\n      this.form.id = id;\n      this.form.nama_barang = nama_barang;\n      this.form.stok = 0;\n    },\n    close_keluardialogvisible: function() {\n      this.keluardialogvisible = false;\n    },\n    submit_keluardialogvisible: function(id) {\n      this.$store.dispatch('keluar/tambah_keluar', {kelola_id: id, stok: this.form.stok})\n      .then(() => {\n        this.keluardialogvisible = false;\n        this.$store.dispatch('kelola/get_kelolas')\n      })\n    },\n    cancel_keluardialogvisible: function() {\n      this.keluardialogvisible = false;\n    }\n  },\n}\n</script>\n<style scoped>\n@import url('https://fonts.googleapis.com/css2?family=Ubuntu:wght@500&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Dosis:wght@200&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap');\n.font-1{font-family: 'Ubuntu', sans-serif;}\n.font-2{font-family: 'Dosis', sans-serif;}\n.font-3{font-family: 'Quicksand', sans-serif;}\n.font-4{font-family: 'Open Sans', sans-serif;}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}